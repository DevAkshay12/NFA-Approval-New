sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";var t;var a;const o=/PAN_Details_APR\('([^']+)'\)/;const n=location.href;const r=n.match(o);if(r){a=r[1];console.log(a)}else{console.log("PAN Number not found")}return e.extend("approval.ext.controller.Objectpage",{override:{onInit:function(){debugger;var e=this.base.getExtensionAPI().getModel()},editFlow:{onAfterSave:async function(e){debugger}},routing:{onAfterBinding:async function(e){debugger;this.getView().byId("approval::PAN_Details_APRObjectPage--fe::FooterBar::CustomAction::Approve").setType("Success");this.getView().byId("approval::PAN_Details_APRObjectPage--fe::FooterBar::CustomAction::needforclarification").setType("Critical");this.getView().byId("approval::PAN_Details_APRObjectPage--fe::FooterBar::CustomAction::Reject").setType("Negative");t=this.getView().getParent().getAppComponent().getManifestObject()._oBaseUri._string;debugger;var o=sap.ui.getCore().byId("approval::PAN_Details_APRObjectPage--fe::CustomSubSection::Workflow--sampleTable");o.addStyleClass("cc");var n={url:t+"odata/v4/pan-approval/PAN_WORKFLOW_HISTORY_APR?$filter=PAN_Number eq '"+a+"'",method:"GET",headers:{Accept:"application/json"}};new Promise((e,t)=>{$.ajax(n).done((t,a,n)=>{var r=new sap.ui.model.json.JSONModel;r.setData({WORKFLOW_HISTORY:t.value});o.setModel(r);console.log(t);o.bindItems({path:"/WORKFLOW_HISTORY",template:new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{PAN_Number}"}),new sap.m.Text({text:"{Employee_Name}"}),new sap.m.Text({text:"{level}"}),new sap.m.Text({text:"{Remarks}"}),new sap.m.Text({text:"{Approved_by}"}),new sap.m.Text({text:"{Days_Taken}"})]})});e(t)}).fail(e=>{t(e)})});var r=[{header:"Employee Id",path:"PAN_Number"},{header:"Employee Name",path:"Employee_Name"},{header:"Level",path:"level"},{header:"Status",path:"Remarks"},{header:"Approved By",path:"Approved_by"},{header:"Days Taken",path:"Days_Taken"}];o.destroyColumns();r.forEach(function(e){var t=new sap.m.Column({header:new sap.m.Text({text:e.header})});o.addColumn(t)})}}}})});
//# sourceMappingURL=Objectpage.controller.js.map